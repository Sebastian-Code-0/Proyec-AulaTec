{% extends 'gestion_aulatec/base1.html' %}
{% load static %}

{% block title %}Solicitar Certificado{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/certificados.css' %}">
{% endblock %}

{% block content %}
<div class="certificados-container">
    <div class="certificados-header">
        <h2>ğŸ“„ Solicitar Certificado</h2>
        <a href="{% url 'gestion_aulatec:mis_certificados' %}" class="btn-solicitar" style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);">
            â† Volver a Mis Certificados
        </a>
    </div>

    <div class="info-estudiante">
        <h4 style="margin-bottom: 15px;">ğŸ‘¤ InformaciÃ³n del Estudiante</h4>
        <p><strong>Nombre:</strong> {{ estudiante.IdUsuario.Nombres }} {{ estudiante.IdUsuario.Apellidos }}</p>
        <p><strong>Documento:</strong> {{ estudiante.IdUsuario.NumId }}</p>
        {% if estudiante.IdGrado %}
        <p><strong>Grado:</strong> {{ estudiante.IdGrado }}</p>
        {% endif %}
    </div>

    {% if solicitudes_pendientes > 0 %}
    <div class="certificado-alert alert-warning">
        âš ï¸ Tienes <strong>{{ solicitudes_pendientes }}</strong> solicitud(es) pendiente(s) de aprobaciÃ³n.
    </div>
    {% endif %}

    <div class="form-solicitud">
        <h4 style="margin-bottom: 20px; color: #2c3e50;">Nueva Solicitud</h4>
        
        <form method="POST">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="tipo" class="form-label">Tipo de Certificado *</label>
                <select class="form-select" id="tipo" name="tipo" required>
                    <option value="estudio">ğŸ“š Certificado de Estudio</option>
                    <option value="notas">ğŸ“Š Certificado de Notas</option>
                    <option value="conducta">â­ Certificado de Conducta</option>
                </select>
            </div>

            <div class="form-group">
                <label for="observaciones" class="form-label">Observaciones (Opcional)</label>
                <textarea class="form-control" id="observaciones" name="observaciones" rows="4" 
                          placeholder="Indica para quÃ© necesitas el certificado o cualquier informaciÃ³n adicional..."></textarea>
            </div>

            <div class="info-box">
                <h6>â„¹ï¸ InformaciÃ³n Importante</h6>
                <ul>
                    <li>Tu solicitud serÃ¡ revisada por el administrador</li>
                    <li>El certificado tendrÃ¡ una validez de 30 dÃ­as desde su aprobaciÃ³n</li>
                    <li>RecibirÃ¡s una notificaciÃ³n cuando sea procesado</li>
                    <li>PodrÃ¡s descargar el certificado en formato PDF</li>
                </ul>
            </div>

            <button type="submit" class="btn-solicitar" style="width: 100%; padding: 15px;">
                ğŸ“¤ Enviar Solicitud
            </button>
        </form>
    </div>
</div>
{% endblock %}